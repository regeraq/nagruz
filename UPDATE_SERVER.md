# üîÑ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –û–ë–ù–û–í–õ–ï–ù–ò–Æ –ü–†–û–ï–ö–¢–ê –ù–ê –°–ï–†–í–ï–†–ï

## –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (1 –∫–æ–º–∞–Ω–¥–∞)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –≤ PowerShell –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
ssh root@45.9.72.103 "cd /var/www/loaddevice && git pull origin main && npm install && npm run build && npm run db:push && pm2 restart loaddevice"
```

**–ü–∞—Ä–æ–ª—å:** `c0E53YVH1wq1`

---

## –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@45.9.72.103
```

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: `c0E53YVH1wq1`

### –®–∞–≥ 2: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /var/www/loaddevice
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

```bash
git status
git log --oneline -3
```

### –®–∞–≥ 4: –ü–æ–ª—É—á–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ GitHub

```bash
git fetch origin
```

### –®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥

```bash
git pull origin main
```

–ò–ª–∏ –µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã:

```bash
git reset --hard origin/main
git clean -fd
```

### –®–∞–≥ 6: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### –®–∞–≥ 7: –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
npm run build
```

### –®–∞–≥ 8: –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
npm run db:push
```

### –®–∞–≥ 9: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
pm2 restart loaddevice
```

### –®–∞–≥ 10: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

```bash
pm2 status
pm2 logs loaddevice --lines 50
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   ```bash
   pm2 status
   ```

2. **–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   ```bash
   pm2 logs loaddevice
   ```

3. **–†–∞–±–æ—Ç–∞ —Å–∞–π—Ç–∞:**
   - http://45.9.72.103
   - http://vm3848909.firstbyte.club

---

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs loaddevice

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é
pm2 delete loaddevice
pm2 start dist/index.js --name loaddevice --max-memory-restart 500M
pm2 save
```

### –û—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ:

```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
rm -rf node_modules dist
npm install
npm run build
```

### –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
psql -U loaddevice_user -d loaddevice_db -h localhost

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–Ω–æ–≤–æ
npm run db:push
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `update-server.sh` –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –° –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
scp HelloWhoAreYou-1/update-server.sh root@45.9.72.103:/tmp/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@45.9.72.103
chmod +x /tmp/update-server.sh
/tmp/update-server.sh
```

